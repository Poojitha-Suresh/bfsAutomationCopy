package stepDefinitions;

import io.cucumber.java.en.Given;
import io.cucumber.java.en.Then;
import io.cucumber.java.en.When;
import pageObjects.RegistrationPage;
import utils.TestContextSetup;

public class RegistrationPageStepDefinitions {
	
	TestContextSetup testContextSetup;
	
	public RegistrationPageStepDefinitions(TestContextSetup testContextSetup) {
		this.testContextSetup = testContextSetup;
	}
	
	@Given("I navigate to the url {string}")
	public void i_navigate_to_the_url(String url) throws InterruptedException {
	    // Write code here that turns the phrase above into concrete actions
	    RegistrationPage registrationPage = testContextSetup.pageObjectManager.getRegistrationPage();
	    registrationPage.navigateToUrl(url);
	}

	@When("I enter the phone number {string} and select grade {string} and click on schedule now button")
	public void i_enter_the_phone_number_and_select_grade_and_click_on_schedule_now_button(String phoneNumber, String grade) throws InterruptedException {
		RegistrationPage registrationPage = testContextSetup.pageObjectManager.getRegistrationPage();
		registrationPage.enterPhoneNumber(phoneNumber);
		registrationPage.selectGradeFromGradeBucket(grade);
		registrationPage.clicOnScheduleClassButton();
	}

	@Then("OTP modal with proper details and mobile number {string} should be displayed")
	public void otp_modal_with_proper_should_be_displayed(String mobileNumber) throws InterruptedException {
	    // Write code here that turns the phrase above into concrete actions
		RegistrationPage registrationPage = testContextSetup.pageObjectManager.getRegistrationPage();
		registrationPage.ensureOTPModalUIElements(mobileNumber);
	}
	
	@When("I enter the OTP received on mobile number {string}")
	public void i_enter_the_otp(String mobNo) throws InterruptedException {
		RegistrationPage registrationPage = testContextSetup.pageObjectManager.getRegistrationPage();
		registrationPage.enterOTP(mobNo);
	}

	@Then("Validate that I am redirected to the url {string}")
	public void validate_that_i_am_redirected_to_the_url(String string) {
	    
	}

	
}
